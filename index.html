<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0ea5e9" />
  <link rel="manifest" href="manifest.json" />
  <title>Macro App (meals demo)</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; max-width: 720px; }
    h1 { margin-bottom: .25rem; }
    .muted { color:#555; font-size:.9rem; margin-bottom:1rem; }
    .row { display:grid; grid-template-columns: 1fr 1fr 1fr 1fr auto; gap:.5rem; align-items:end; }
    label { font-size:.9rem; }
    input, select { width:100%; padding:.55rem; border:1px solid #ccc; border-radius:.5rem; }
    button { padding:.6rem 1rem; border:1px solid #ddd; border-radius:.7rem; cursor:pointer; background:#fff; }
    .card { padding:1rem; border:1px solid #ddd; border-radius:.75rem; margin-bottom:1rem; }
    table { width:100%; border-collapse: collapse; margin-top:.5rem; }
    th, td { padding:.5rem; border-bottom:1px solid #eee; text-align:left; }
    .totals { background:#f7f7f7; border-radius:.5rem; padding:.6rem .8rem; margin-top:.5rem; }
    .meal-title { display:flex; justify-content:space-between; align-items:center; }
    .pill { font-size:.8rem; padding:.2rem .5rem; border:1px solid #ddd; border-radius:999px; background:#fff; }
    .right { text-align:right; }
  </style>
</head>
<body>
  <h1>üçΩÔ∏è Macro Counter ‚Äî Meals</h1>
  <p class="muted">Pick a meal (1‚Äì6), choose a food and portion, then <strong>Add</strong>. Values are estimates per 100g and stored offline. You can go offline and it still works.</p>

  <div class="card">
    <div class="row">
      <div>
        <label>Meal</label>
        <select id="meal">
          <option value="0">Meal 1</option>
          <option value="1">Meal 2</option>
          <option value="2">Meal 3</option>
          <option value="3">Meal 4</option>
          <option value="4">Meal 5</option>
          <option value="5">Meal 6</option>
        </select>
      </div>
      <div>
        <label>Food</label>
        <input id="foodInput" list="foodlist" placeholder="e.g., banana, oats, pasta (cooked)">
        <datalist id="foodlist"></datalist>
      </div>
      <div>
        <label>Portion</label>
        <select id="portion"></select>
      </div>
      <div>
        <label>Grams</label>
        <input id="grams" type="number" min="1" step="1" value="100">
      </div>
      <div>
        <button id="addBtn">Add</button>
      </div>
    </div>
    <div id="preview" class="totals" style="display:none;"></div>
  </div>

  <div id="meals"></div>

  <div class="card">
    <div class="meal-title">
      <strong>Day total</strong>
      <button id="resetDay" class="pill">Reset today</button>
    </div>
    <div id="day
